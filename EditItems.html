<!DOCTYPE html>

<html lang="en">
<head>
    <title>Farmer's Market Application</title>
</head>
<body>
    <iframe id="hiddenElementName" src="JSONCategoriesData.txt" onload="fetchData();" style="display: none;"></iframe>
    <div style="text-align:center;">
        <p>Header</p>
        <h2>Add or Edit Items</h2>
        <ul style="list-style-position: inside;">Item List <br> <span style="font-size:.75em">Click on a item to edit it</span>
            <li>Category 1</li>
            <ul>
            	<li><a href="" class="item">Item 1</a></li>
            	<li><a href="" class = "item">Item 2</a></li>
            	<li><a href="" class = "item">Item 3</a></li>
            </ul>
            <li>Category 2</li>
            <ul>
            	<li><a href="" class = "item">Item 4</a></li>
            	<li><a href="" class = "item">Item 5</a></li>
            	<li><a href="" class = "item">Item 6</a></li>
            </ul>
            <li>Category 3</li>
            <ul>
            	<li><a href="" class = "item">Item 7</a></li>
            	<li><a href="" class = "item">Item 8</a></li>
            	<li><a href="" class = "item">Item 9</a></li>
            	<li><a href="" class = "item">Item 10</a></li>
            </ul>
        </ul>
        <form>
            <p>
                <label>Search</label>
            </p>
            <p>
                <label>Search by Item Name</label>
                <input id="textSearchItem" type="text" />
            </p>
            <p>
                <label>Category</label>
                <select id="searchCategory">
                    <option>Example1</option>
                    <option>Example2</option>
                    <option>Example3</option>
                    <option>Example4</option>
                    <option>Example5</option>
                </select>
            </p>
            <p>
                <label>Sub-Cateegory</label>
                <select id="searchSub">
                    <option>Example1</option>
                    <option>Example2</option>
                    <option>Example3</option>
                    <option>Example4</option>
                    <option>Example5</option>
                </select>
            </p>
            <p>
                <label>Item</label>
                <select id="searchItem">
                    <option>Example1</option>
                    <option>Example2</option>
                    <option>Example3</option>
                    <option>Example4</option>
                    <option>Example5</option>
                </select>
            </p>
            <p>
                <input id="searchButton" type="button" value="Search" onclick="" />
            </p>
            <p>
                <label>Edit/Add Information</label>
            </p>
            <p>
                <label>Name</label>
                <input id="name" type="text" />
            </p>
            <p>
                <label>Description</label>
                <input id="description" type="text" />
            </p>
            <p>
                <label>Examples</label>
                <input id="examples" type="text" />
                <br>+Add Example
            </p>
            <p>
                <label>Needs license</label>
                <input id="needsLicense" type="checkbox" />
            </p>
            <p>
                <label>Needs temperature Control</label>
                <input id="temperatureControl" type="checkbox" />
            </p>
            <p>
                <label>Is snap eligible</label>
                <input id="snapEligible" type="checkbox" />
            </p>
            <p>
                <label>Needs tested</label>
                <input id="needsTested" type="checkbox" />
            </p>
            <p>
                <label>Category</label>
                <select id="Category">
                    <option>Example1</option>
                    <option>Example2</option>
                    <option>Example3</option>
                    <option>Example4</option>
                    <option>Example5</option>
                </select>
            </p>
            <p>
                <label>Sub-Category</label>
                <select id="Category">
                    <option>Example1</option>
                    <option>Example2</option>
                    <option>Example3</option>
                    <option>Example4</option>
                    <option>Example5</option>
                </select>
                <br>(js to be based on selected Category)
            </p>
            <p>
                <input id="makeChanges" type="button" value="Add Item" onclick="OnUserClickAddItem();" />
            </p>
        </form>
        <script>
        	items = document.getElementsByClassName('item');
        	for(var i = 0; i < items.length; i++) {
	            var item = items[i];
	            item.onclick = function(e) {
	            	e.preventDefault();
	                document.getElementById( "name" ).value = item.innerHTML;
	                document.getElementById( "makeChanges" ).value = "Edit Item";
	            }
	        }


            function OnUserClickAddItem()
            {
                let name = document.getElementById( "name" );
                let description = document.getElementById( "description" );
                let example = document.getElementById( "examples" );
                let needsLicense = document.getElementById( "needsLicense" );
                let needsTemperatureControl = document.getElementById( "needsTemperatureControl" );
                let temperatureControl = document.getElementById( "temperatureControl" );
                let snapEligiable = document.getElementById( "snapEligable" );
                let needsTested = document.getElementById(" needsTested");

                addFoodItemToDictionary( name.textContent, description.textContent, example.textContent,
                                        needsLicense.checked, needsTemperatureControl.checked, temperatureControl.checked,
                                        snapEligiable.checked, needsTested.checked );
            }
        </script>
    </div>
</body>
</html>